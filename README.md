网络空间安全学院（密码学院）
2023-2024学年度第2学期

 Y00295 软件工程及安全编程 课程论文

论文题目： 酒店管理系统软件的设计与实现 
                                        
学生学号及姓名：20213006839 甄五四
学生所在班级：信息安全(密码学方向)理科实验班
论文提交时间：2024年7月9日
授课教师：徐紫枫

 
酒店管理系统软件的设计与实现

1	概述
本课程设计并实现的软件是一个综合性的酒店管理系统，旨在为海口市美兰区酒店联盟中的各大酒店提供高效的信息管理和客户服务支持。该系统被命名为 “美兰客栈”，它整合了酒店的各类管理功能，包括房间预定、订单管理、客户信息管理等，旨在通过信息共享和自动化处理，提高酒店的运营效率和客户满意度。本项目采用迭代增量模型进行开发。增量模型在项目之初，投入较少，可以降低开发风险和开发成本。每次增量交付过程中获取的经验，有利于未来的改进，用户也有机会对建立好的模型做出反馈。采用连续增量的方式，可把用户经验融入到细化的产品，这比完全重新开发要节约很多成本。迭代增量模型允许在开发过程中根据反馈和需求变化进行调整，逐步完善系统功能，通过早期和持续的原型开发，减少项目的风险，确保每个阶段都有可交付的成果，实现风险控制。在每次迭代中获得用户和客户的反馈，及时调整开发方向，确保最终产品满足用户需求。还可以快速交付部分功能，早期获得用户使用反馈，从而提高开发效率和产品质量。该软件旨在整合联盟内各大酒店的信息，实现信息共享，消除各酒店之间的信息孤岛问题。提供统一的预定平台，简化客户预定流程，提高预定效率。以及通过系统化管理，自动化处理酒店日常业务，提高管理效率，减少人为错误通过系统提供的便捷服务，提高客户满意度，增强客户体验。该软件的优点
有系统化的管理和自动化处理，提高了酒店联盟的运营效率，减少了管理成本。客户可以通过系统轻松完成酒店和房间的预定，提高了用户体验和满意度。实现了联盟内各大酒店的信息共享，增强了酒店之间的协作能力和资源利用率。采用迭代增量模型开发，系统具有较高的灵活性和扩展性，能够根据需求变化进行调整和扩展。项目源于美兰区联盟的各大酒店的信息管理需求。随着用户需求的不断扩大，各大酒店希望能够实现信息共享，以更好地服务客户。项目的主要用户群体包括酒店联盟内的信息管理人员和广大的酒店客户。该系统与各大酒店内部信息系统相关联，共同为广大客户群体提供服务，提升酒店联盟的整体服务水平和竞争力。
2	需求分析
酒店管理系统软件的主要用户群体包括酒店管理人员和酒店客人。为准确获取管理人员的需求，采用了面谈、问卷调查和日常工作观察等方法。与酒店管理人员进行详细面谈，了解他们的工作流程、现有系统的不足及期望的改进。设计并分发详细的问卷，涵盖日常操作、工作流程、系统交互等方面，以获取广泛而具体的需求信息。以及直接观察管理人员的日常工作，记录他们在工作中遇到的问题和需求。结合多种方法了解了他们在管理酒店信息、管理客户信息、查看客户问题等方面的需求，具体需求包括实时更新客房状态、记录客人信息、掌握具体客户问题等。对于酒店客人，通过电子邮件或入住时发放在线问卷，收集客人对酒店服务和系统功能的反馈。还有通过监控社交媒体平台上的评论和反馈，了解客人对酒店服务和系统功能的评价和建议。以及根据前台反馈收集客人在入住和退房时提供的口头反馈，了解他们的实际需求和体验。收集到他们对系统的期望，具体包括简单易用的在线预订、个性化服务、便捷的客房服务预订功能。这些全面的需求分析为酒店管理系统软件的设计和开发提供了明确而详细的方向。
对于客户，客户登录进入系统后输入自己的用户ID查询自己的订单，还可以预定自己选择好的房间，预定房间时还可以查询空闲房间来选择预定，以防已经有房间被占用，如果住房过程中有任何问题都可以提交给客服，交由客服解决。客户用例图如图1。
 
图1 客户的用例图
查询订单是客户根据客户ID在线查询个人订单的过程，用例说明如表1。
用例名称	查询订单
简要描述	客户查看个人订单信息，确保订单准确无误
执行者	客户
前置条件	客户已经登录系统并且已知道自己的客户ID
后置条件	系统显示客户的订单信息，并允许客户查看详细信息
基本事件流	用户输入ID,点击查询查找
异常事件流	用户输入ID错误，格式不规范
表1 查询订单用例
对于管理员，客服登录进入系统后可以为客户注册一个账号用于在该系统预定房间，客服还可以再注册一个客服账号，客服可以对联盟内各大酒店的信息进行管理，及时更新各大酒店的信息，还可以查看用户提交的问题。酒店管理信息的功能模块里面主要分为三种：管理酒店住房信息、管理酒店订单信息 和管理酒店相关信息。在这个功能模块中，使用者可以通过输入相关信息作为索引以了解到联盟中所有酒店的所有相关信息，并且可以对这些信息进行相应的管理(增加信息、修改信息、删除信息)。实现对所有酒店信息的一体化管理。管理员用例图如图2。
 
图2 管理员的用例图
管理酒店信息包括住房、订单等多个信息管理功能，用例说明如表2.
用例名称	管理酒店信息
简要描述	管理人员对酒店的信息进行管理和维护
执行者	管理员
前置条件	管理员已经通过合法途径登录到酒店管理系统
后置条件	管理员操作完成后，系统将更新数据库中的酒店信息，并根据需要通知相关人员
基本事件流	增加、删除、修改住房、订单消息
异常事件流	输入的数据不符合格式要求或无效，数据库出错
3	系统设计
软件结构由客户端、服务器和数据库三个节点构成，其内部构件如图3。
 
图3 软件结构
整个软件系统的功能编号和优先级如表3。
编号	名  称	优先级	描  述	主要发起者
1	预定房间	2	客户预定选择的房间	客户
2	注册客户账号	1	客服为客户注册账号	客服
3	管理酒店信息	2	联盟内酒店信息管理	客服
4	注册客服账号	1	客服注册客服账号	客服
5	提交问题	2	客户提交自己的困惑	客户
6	查询问题	3	客服查看客户困惑	客服
表3 功能编号和优先级
3.1	软件体系结构
1.	登录过程
 
图4 登录过程
IdentityChoice类主要有2个接口提供进入不同的登录类（CustomerLogin和DBMLogin）中，CustomerLogin和DBMLogin这两个类依赖于IdentityChoice类。CustomerLogin类提供接口进入CustomerFunctionChoice类，DBMLogin类提供接口进入DBMFunctionChoice类。
2.	管理员功能选择
 
图5 管理员功能选择
 在DBMFunctionChoice类中，它泛化为RegisterDBM，RegisterCustomer和InquireQuestion这三个类，并提供接口给ManageInformation类。ManageInformation类依赖于DBMFunctionChoice类。InquireQuestion类中包含了客户提交的问题相关联的客户以及住房的一些相关数据项。
3.	客户功能选择
 
图6 客户功能选择
在CustomerFunctionChoice类中，它泛化为OrderRoom和SubmitQuestion这两个类。OrderRoom类包含了住房的一些相关数据项，SubmitQuestion类包含了需要提交的问题与之相关联的客户和住房信息。
4.	管理员酒店信息管理
 
图7 管理员酒店信息管理
在ManageInformation类中，它泛化为ManageRoom，ManageOrder和ManageHotel这三个类。ManageRoom类包含了住房的一些相关信息数据项，ManageOrder类包含了订单的一些相关信息数据项，ManageHotel类包含了酒店的一些相关信息的数据项。
3.2	功能概述
1.	IdentityChoice：登录时选择自己进入系统的身份
2.	CustomerLogin：以客户身份进行登录需要输入客户的ID和密码。根据用户ID和密码在数据库中进行比较，成功匹配则进入系统。
 
图 8客户登录
3.	DBMLogin：以管理员身份登录需要输入管理员的用户名和密码。
 
图9 管理员登录
4.	CustomerFunctionChoice：客户进行功能选择，提供的功能有：预定房间和提交问题
5.	DBMFunctionChoice：管理员进行功能选择，提供的功能有：酒店信息管理、查看问题、注册客户账号和注册管理员账号
6.	RegisterDBM：注册管理员账号，根据数据库比对结果如果用户名存在则给出提示，不存在则更新数据库，加入新的管理员账户。
 
图10 注册管理员账号
7.	RegisterCustomer：注册客户账号
 
图11 注册客户账号
8.	ManageInfomation：管理酒店相关信息，提供的可管理的信息项有：酒店信息、住房信息和订单信息
9.	InquireQuestion：查看客户反馈问题
 
图12 查看用户问题
10.	OrderRoom：客户进行房间的预定
 
图13 客户进行房间预定
11.	SubmitQuestion：客户提交问题
 
图14 客户提交问题
12.	ManageRoom：管理房间信息，可以对房间的相关信息进行查询、增加、删除、修改的操作
 
图15 管理房间信息
13.	ManageHotel：管理酒店信息，可以对酒店的相关信息进行查询、增加、删除、修改的操作
 
图16 管理酒店信息
14.	ManageOrder管理订单信息，可以对订单的相关信息进行添删改查的操作
 
图17 管理订单信息
4	系统实现
本软件是基于Microsoft Windows 10 家庭中文版下Python 3.12.4实现，在其他系统中也有很好的兼容性。主要使用到的开源库有 wx 和sqlite3。wx是 wxPython 的核心模块，是一个跨平台的 GUI 工具包，可以用来创建桌面应用程序。它提供了丰富的控件库和事件处理机制，使得开发者可以通过 Python 创建具有良好用户界面的应用程序，支持多种操作系统，如 Windows、Linux 和 macOS。sqlite3 是 Python 内置的 SQLite 数据库接口模块。SQLite 是一个轻量级的嵌入式关系数据库管理系统，它不需要单独的服务器进程，通常用于小型应用程序或嵌入式设备中存储数据。在 Python 中通过 sqlite3 模块可以方便地操作 SQLite 数据库，包括创建数据库、执行 SQL 查询、插入、更新和删除数据等操作下面我将简述登录过程和管理员酒店信息管理的具体实现。
1.	管理员酒店信息管理 
首先管理员选择管理员身份认证登录，之后可根据需要选择具体信息管理。在 ManageInformation 的模块中，聚合了 ManageRoom、ManageHotel、ManageOrder 这三个模块。在 ManageRoom 模块中，有房间等级、房间类型、房间状态、房间 ID、酒店 ID、价格这6个数据项，add()、inquire()、delete()、change()分别实现对以上6个数据项的增、查、删、改操作。在 ManageHotel 模块中，有酒店地址、酒店名称、酒店 ID、房间数量这4个数据项，add()、inquire()、delete()、change()分别实现对以上4个数据项的增、查、删、改操作。在 ManageOrder 模块中，有客户 ID、订单 ID、酒店 ID、房间 ID、日期、总消费这6个数据项，add()、inquire()、delete()、change()分别实现对以上6个数据项的增、查、删、改操作。流程图如图18。
  
图18 管理员酒店信息管理流程图
酒店信息管理页面部分代码如下：
def __init__(self, parent, id):
        wx.Frame.__init__(self, parent, id, title = "酒店管理系统", size =(300,300))
        panel = wx.Panel(self)
        self.bt1 = wx.Button(panel, label="酒店", pos=(100, 40))
        self.bt2 = wx.Button(panel, label="订单", pos=(100, 80))
        self.bt3 = wx.Button(panel, label="房间", pos=(100, 120))
        self.bt4 = wx.Button(panel, label="退出", pos=(100, 160))
        self.bt1.Bind(wx.EVT_BUTTON, self.ManangeHotel)
        self.bt2.Bind(wx.EVT_BUTTON, self.ManageOrder)
        self.bt3.Bind(wx.EVT_BUTTON, self.ManageRoom)
        self.bt4.Bind(wx.EVT_BUTTON, self.Exit)
    def ManageRoom(self, event):
        room()
    def ManageOrder(self, event):
        housingorder()
    def ManangeHotel(self, event):
        hotel()
    def Exit(self, event):
        self.Destroy()
def ManageInformation():
    app = wx.App()
    frame = Function(None, -1)
    frame.Centre()
    frame.Show()
    app.MainLoop()
 
图19 酒店信息管理页面
酒店:进入对联盟内部各大酒店信息的管理 订单：进入对各大酒店所有住房订单的信息管理 房间:进入对各大酒店所有房间信息的管理 退出:返回管理员功能选择界面
2.	预定房间
预定房间模块，客户进入系统后可以查询联盟内各大酒店的各个房间的相关信息。进行自主选择后，输入需要预定对应房间的相关信息预定即可，流程图如图20。
 
图20 客户预定房间流程图
预定房间部分代码如下：
def bt1_f(self, event):
        con = sqlite3.connect(path)
        cur = con.cursor()
        cur.execute("SELECT * FROM Room WHERE 状态 = ?", ("空闲",))
        inf = cur.fetchall() 
        string = ""
        for i in inf:
            string = string+i[0] + "\t" + i[1] + "\t" + i[2] +"\t"+i[3]+"\t"+i[4]+"\t"+i[5]+"\t\n"
        self.Text.SetValue(string)
        cur.close()
        con.close()
    def bt2_f(self, event):
        con = sqlite3.connect(path)
        cur = con.cursor()
        Cus_ID = self.Cus_ID.GetValue()
        name = self.name.GetValue()
        Tel = self.Tel.GetValue()
        Room_ID = self.Room_ID.GetValue()
        Hotle_ID = self.Hotle_ID.GetValue()
        State = self.State.GetValue()
        if Cus_ID == "" or name == "" or Tel == "" or Room_ID == "" or Hotle_ID == "":
            message = "输入信息不全" + "\n"
            wx.MessageBox(message)
        else:
            cur.execute("SELECT * FROM Customer WHERE 客户ID = ?",(Cus_ID,))
            inf = cur.fetchall()
            cur.execute("SELECT * FROM Room WHERE (状态, 房间ID, 酒店ID) = (?, ? ,?)", ("空闲", Room_ID, Hotle_ID))
            inf2 = cur.fetchall()
            cur.execute("SELECT 住房订单ID FROM Order")
            inf3 = cur.fetchall()
            Sum = 0
            for i in inf3:
                Sum = Sum+1
            Sum = Sum+1
            Sum = str(Sum) #sum为订单号
            if len(Sum) == 1:
                Sum = "ho00"+Sum
            elif len(Sum) == 2:
                Sum = "ho0" + Sum
            elif len(Sum) == 3:
                Sum = "ho" + Sum
            if len(inf2) != 0:
                if len(inf) == 0:
                    cur.execute("INSERT INTO CUSTOMER(客户ID, 名字, 电话) VALUES(?, ?, ?)", (Cus_ID, name, Tel))
                cur.execute("INSERT INTO Order(住房订单ID, 房间ID, 酒店ID, 客户ID, 日期, 总消费) VALUES(?, ?, ?, ?, ?, ?)", (Sum, Room_ID, Hotle_ID, Cus_ID, State, random.randint(1000, 10000)))
                cur.execute("UPDATE Room SET 状态 = ? WHERE (房间ID, 酒店ID) = (?, ?)", ("已满", Room_ID, Hotle_ID))
                con.commit()
                message = "预定成功"
                wx.MessageBox(message)
            elif len(inf2) == 0:
                message = "输入信息有误"
                wx.MessageBox(message)
        cur.close()
        con.close()

    def bt3_f(self, event):
        self.Destroy()

def orderRoom():
    app = wx.App()
    frame = OrderRoom(None, -1)
    frame.Centre()
    frame.Show()
    app.MainLoop()
 
图21 客户预定房间页面
可以查看所有空闲的房间信息并显示在文本域内，把需要预定的房间信息输入在文本框内点击预定房间即可预定成功，点击返回主页面则回到用户功能选择页面。
5	系统测试
系统测试的目的是评估美兰客栈酒店管理系统的鲁棒性，并通过测试结果详细描述系统运行中操作的执行和结果评估。本章节旨在为系统设计人员、软件开发人员以及客户方的系统设计人员提供全面的测试报告。美兰客栈是一款基于 Python 语言开发的系统，利用 WX 扩展包创建界面，与 SQLite3 版本的数据库进行数据存储和交互。本次课设仅对客户登录操作和管理酒店信息模块进行部分测试，实际应用需要进行全面的测试。

5.1	测试用例设计
客户登录操作：
测试用例编号	CustomerLogin_001
测试项目	客户系统登录
测试标题	密码不正确
重要级别	低
预置条件	系统存在该用户
输入	已存在的用户名，错误密码
操作步骤	○1选择客户身份；○2输入已存在用户名；○3输入错误密码
预期输出	○1提示密码或用户名错误；

表4 客户登录_第一组测试用例
测试用例编号	CustomerLogin_002
测试项目	客户系统登录
测试标题	成功登录
重要级别	低
预置条件	系统存在该用户
输入	存在的用户名，正确密码
操作步骤	○1选择客户身份；○2输入存在用户名；○3输入正确密码
预期输出	○1提示登录成功；○2进入客户功能选择界面

表5 客户登录_第二组测试用例
管理酒店信息操作

测试用例编号	ManageHotel_001
测试项目	管理酒店信息
测试标题	查询酒店ID不存在
重要级别	中
预置条件	数据库中不存在酒店ID
输入	不存在的酒店ID
操作步骤	○1输入酒店ID；○2点击查询

预期输出	○1提示该酒店ID不存在；

表6 管理酒店信息_第一组测试用例
测试用例编号	ManageHotel_002
测试项目	管理酒店信息
测试标题	成功添加酒店信息
重要级别	中
预置条件	系统不存在该酒店
输入	不存在的客户ID，密码，姓名，电话
操作步骤	○1输入不存在的酒店ID，名字，地址，房间数量；○2点击添加
预期输出	○1提示添加信息成功；

表7 管理酒店信息_第二组测试用例
测试用例编号	ManageHotel_003
测试项目	管理酒店信息
测试标题	修改酒店信息内容缺失
重要级别	中
预置条件	系统存在该酒店
输入	存在酒店ID，不完全的其他信息
操作步骤	○1输入存在的酒店ID；○2点击修改

预期输出	○1提示修改信息未填入；

表8 管理酒店信息_第三组测试用例
5.2	测试结果及分析
5.2.1	测试环境
在 Windows10中Pycharm代码编辑环境中运行调试，利用 WX 扩展包环境搭建的界面设计，与 Sqlite3版本的数据库建立连接处理数据。
5.2.2	测试用例执行
（1）客户登录操作
①执行测试用例CustomerLogin_001，运行结果如图22
 
图22
结果分析：实际运行结果与该测试用例预期输出结果一致
②执行测试用例 CustomerLogin_002，运行结果如图 23
 
图23
结果分析：实际运行结果与该测试用例预期输出结果一致
（2）管理酒店信息操作
①执行测试用例 ManageHotel_001，运行结果如图 24
 
图24
结果分析：实际运行结果与该测试用例预期输出结果一致 
②执行测试用例 ManageHotel_002，运行结果如图 25
 
图25
结果分析：实际运行结果与该测试用例预期输出结果一致 
③执行测试用例 ManageHotel_003，运行结果如图 26
 
图26
结果分析：实际运行结果与该测试用例预期输出结果一致 
6	结论
在本次酒店管理系统开发项目中，我遵循了软件工程的各个阶段，系统地开展了需求分析、系统设计、编码实现、测试和维护工作。通过这些步骤，我们成功构建了一个功能完善的酒店管理系统，并在开发过程中积累了丰富的经验。在需求分析阶段，全面收集和分析了管理员和客户的需求，通过访谈、问卷调查和观察等方式，明确了系统需要实现的功能。生成了详细的需求文档，明确了系统各模块的功能和用户的具体需求，为后续的设计和开发提供了明确的指导。在系统设计阶段，根据需求文档，进行了系统架构设计和详细设计，确定了系统的模块划分、数据结构和接口。生成了系统设计文档，绘制了用例图、类图和流程图等，为编码阶段提供了清晰的蓝图。在系统实现部分，按照设计文档，使用 Python 语言和 WX 扩展包进行界面设计，并使用 SQLite3 数据库进行数据存储和操作。完成了系统各模块的编码，实现了管理员对酒店、房间、订单以及客户信息的管理功能，以及客户查阅订单、预定房间和提交问题的功能。最后在系统测试部分对系统的关键功能进行了详细的测试，包括客户登录操作和管理酒店信息模块，测试了系统的鲁棒性和各项操作的正确性。生成了测试报告，发现并修复了一些问题。
通过本次软件工程课程设计，我不仅成功开发了一个酒店管理系统，还深刻理解了软件工程各个阶段的重要性和相互关系。每个阶段的工作都是紧密相连的，需求分析和系统设计为编码实现提供了基础，编码实现和系统测试确保了系统的功能和稳定性，系统维护则是保证系统长期有效运行的重要环节。总的来说，本次项目的成功实施，为我今后的软件开发工作提供了宝贵的经验和指导。
